# MyShell 语法高亮颜色方案

## 🎨 颜色映射表

MyShell的语法高亮系统使用ANSI颜色代码来区分不同的语法元素：

### 命令类型

| 元素类型 | 颜色效果 | ANSI代码 | 示例 |
|----------|----------|----------|------|
| **内置命令** | 🔵 蓝色加粗 | `\033[1;34m` | `cd`, `pwd`, `echo`, `set` |
| **外部命令** | 🟢 绿色加粗 | `\033[1;32m` | `ls`, `cat`, `grep`, `find` |

### 参数和选项

| 元素类型 | 颜色效果 | ANSI代码 | 示例 |
|----------|----------|----------|------|
| **选项参数** | 🟡 黄色 | `\033[33m` | `-l`, `--help`, `-n` |
| **字符串** | 🟢 绿色 | `\033[32m` | `"hello world"`, `'text'` |
| **数字** | 🔵 亮青色 | `\033[96m` | `123`, `3.14`, `-42` |

### 变量和路径

| 元素类型 | 颜色效果 | ANSI代码 | 示例 |
|----------|----------|----------|------|
| **环境变量** | 🔷 青色 | `\033[36m` | `$HOME`, `$PATH`, `$USER` |
| **文件路径** | 🔵 蓝色 | `\033[34m` | `./src/`, `/tmp/file.txt` |

### 操作符

| 元素类型 | 颜色效果 | ANSI代码 | 示例 |
|----------|----------|----------|------|
| **管道** | 🟣 洋红色加粗 | `\033[1;35m` | `\|` |
| **重定向** | 🔴 红色加粗 | `\033[1;31m` | `>`, `>>`, `<` |
| **后台运行** | 🟡 黄色加粗 | `\033[1;33m` | `&` |
| **其他操作符** | 🟣 洋红色 | `\033[35m` | `;`, `&&`, `\|\|` |

### 特殊元素

| 元素类型 | 颜色效果 | ANSI代码 | 示例 |
|----------|----------|----------|------|
| **注释** | ⚫ 暗灰色 | `\033[90m` | `# 这是注释` |
| **普通文本** | ⚪ 默认色 | `\033[0m` | 普通文本 |

## 🖥️ 实际效果展示

### 命令示例
```bash
# 内置命令（蓝色加粗）
snow@mysh:~$ cd /home/snow

# 外部命令（绿色加粗）
snow@mysh:~$ ls -la

# 带选项的命令（命令绿色，选项黄色）
snow@mysh:~$ echo -n "Hello World"
```

### 复杂命令示例
```bash
# 管道操作（管道符洋红色加粗）
snow@mysh:~$ ls -la | grep ".txt"

# 重定向（重定向符红色加粗）
snow@mysh:~$ echo "test" > output.txt

# 环境变量（青色）
snow@mysh:~$ echo "Home: $HOME"

# 后台运行（&符号黄色加粗）
snow@mysh:~$ sleep 10 &
```

## ⚙️ 自定义配置

### 启用/禁用语法高亮
```bash
# 启用语法高亮
snow@mysh:~$ set syntax-highlight on

# 禁用语法高亮
snow@mysh:~$ set syntax-highlight off

# 查看当前状态
snow@mysh:~$ set
```

### 检查终端兼容性
语法高亮功能需要终端支持ANSI颜色代码。大多数现代终端都支持：
- ✅ Linux终端（gnome-terminal, xterm, konsole等）
- ✅ macOS终端（Terminal.app, iTerm2等）
- ✅ Windows Terminal, PowerShell
- ✅ VSCode集成终端
- ⚠️ 部分老旧终端可能不完全支持

## 🔧 实现细节

### 颜色定义
在 `src/core/syntax_highlighter.h` 中定义了颜色常量：

```cpp
namespace Colors {
    constexpr const char* RESET = "\033[0m";
    constexpr const char* BOLD = "\033[1m";
    constexpr const char* GREEN = "\033[32m";
    constexpr const char* BLUE = "\033[34m";
    constexpr const char* YELLOW = "\033[33m";
    constexpr const char* CYAN = "\033[36m";
    constexpr const char* MAGENTA = "\033[35m";
    constexpr const char* RED = "\033[31m";
    // ... 更多颜色定义
}
```

### 语法分析
系统会自动识别以下语法元素：
1. **命令识别**：区分内置命令和外部命令
2. **选项检测**：识别 `-` 和 `--` 开头的选项
3. **字符串解析**：支持双引号和单引号字符串
4. **变量展开**：识别 `$VAR` 形式的环境变量
5. **操作符检测**：管道、重定向、后台运行等

## 💡 使用技巧

1. **实时反馈**：输入命令时可以立即看到语法高亮效果
2. **错误提示**：错误的语法会以不同颜色提示
3. **可读性提升**：复杂命令行的结构更加清晰
4. **学习辅助**：有助于理解shell语法结构

语法高亮让MyShell的使用体验更加现代化和用户友好！🎨